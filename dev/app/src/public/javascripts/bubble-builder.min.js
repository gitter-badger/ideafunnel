function bubbles(b){var d=600,g=d3.format(",d"),f=d3.scale.category20c();var a=d3.layout.pack().sort(null).size([d,d]).padding(1.5);$("#chart").html("");var e=d3.select("#chart").append("svg").attr("width",d).attr("height",d).attr("class","bubble");var c=e.selectAll("g.node").data(a.nodes(classes(b)).filter(function(h){return !h.children})).enter().append("g").attr("class","node").attr("transform",function(h){return"translate("+h.x+","+h.y+")"});c.append("title").text(function(h){return h.className+": "+g(h.value)});c.append("circle").attr("r",function(h){return h.r}).style("fill","#ffa400");c.append("text").attr("text-anchor","middle").attr("dy",".3em").attr("font-size","12px").attr("stroke","#ffffff").text(function(h){return h.className.substring(0,h.r/3)})}function classes(a){var b=[];function c(d,e){if(e.children){e.children.forEach(function(f){c(e.name,f)})}else{b.push({packageName:d,className:e.name,value:e.size})}}c(null,a);return{children:b}};