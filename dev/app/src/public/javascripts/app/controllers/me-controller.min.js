ideafunnelMainApp.controller("MeController",["$scope","$http","$routeParams",function(a,c,b){a.profilePic="/images/ideafunnel_noprofile.png";if(b.userId){a.userId=b.userId;a.canEdit=a.userId===username}else{a.userId=username;a.canEdit=true}a.loadStats=function(){getWithErrorHandling(c,"/api/user/:username/stats?userId="+a.userId,"Could not load user stats",function(e,d){a.stats=d})};a.loadStats();a.initMePage=function(e,f,d){a.userId=e;a.fullName=f;a.profilePicPresent=d;if(a.profilePicPresent){a.profilePic="/"+e+".jpg"}else{a.profilePic="/images/ideafunnel_noprofile.png"}};a.loadUser=function(){c.get("/api/user/"+a.username+"/view",{}).success(function(d){if(d.status&&d.status==="ok"){a.user=d.data}else{handleError("Could not load user",d)}a.loadingUser=false}).error(function(d){handleError("An error occurred loading your user details",d);a.loadingUser=false})}}]);