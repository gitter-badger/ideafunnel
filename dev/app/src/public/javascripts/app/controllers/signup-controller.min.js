ideafunnelApp.controller("SignupController",["$scope","$http",function(a,b){a.usernameValidity={};a.emailValidity={};a.initPage=function(d,e,c,f){a.user={firstName:d,lastName:e,email:c,username:f,password:"",password2:""}};a.checkUsername=function(){if(a.user.username&&a.user.username.length!==0){b.post("/signup/username-check/",{username:a.user.username}).success(function(c){if(c.status&&c.status==="ok"){a.usernameValidity={status:true}}else{a.usernameValidity={status:false,error:c.error}}}).error(function(c){handleError("An error occurred checking your username",c)})}};a.checkEmail=function(){if(a.user.email&&a.user.email.length!==0){b.post("/api/signup/check-email/",{email:a.user.email}).success(function(c){if(c.status&&c.status==="ok"){a.emailValidity={status:true}}else{a.emailValidity={status:false,error:c.error}}}).error(function(c){handleError("An error occurred checking your email",c)})}};a.checkPasswords=function(){return(!a.user.password||!a.user.password2||a.user.password.length===0||a.user.password2.length===0)||(a.user.password===a.user.password2)};a.checkSubmit=function(){return(a.user.password&&a.user.password2&&a.user.password.length!==0&&a.checkPasswords()&&(a.emailValidity.status&&a.usernameValidity.status))}}]);